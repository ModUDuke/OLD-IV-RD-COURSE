--- 
title       : "Instrumental Variables Deep Dive"
description : "This chapter explores deeper concepts and applications related to IV"


--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:d8ab603518
## Defining LATE: The Local Average Treatment Effect
*** =video_link
//player.vimeo.com/video/219560681


--- type:MultipleChoiceExercise lang:r xp:50 skills:1 key:7bd9f2f678
## LATE and the ATE for Always-Takers
LATE is defined as the average treatment effect for the compliers. Why don't we define and report an average treatment effect for the always takers?

*** =instructions
- Because we only care about compliers.
- Because we already know what the treatment effect for the always takers is, by definition.
- Because the always takers and the compliers have the same treatment effect.
- None of the above.
*** =sct
```{r}
msg1 = "Not quite. Try again"
msg2 = "Not quite. Try again"
msg3 = "Not quite. Try again."
msg4 = "None of the above. The reason is that we are able to compute LATE from the data, (a.k.a. we can show it is 'identified'.) But the average treatment effect for always takers is not nearly as easy to get, or indeed could be impossible to learn: a necessary condition to calculate treatment effects is to observe outcomes for individuals in a population who do and don’t receive treatment. Since always takers always get treated, we don’t have any data about when they don’t take treatment.So we focus on LATE no so much because of intrinsic interest (although that is often the case) but also because it is something we are able to learn from the data."
test_mc(correct = 4, feedback_msgs = c(msg1,msg2,msg3,msg4))
```

--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:44c9ebbb15
## The "No Defiers" Assumption
*** =video_link
//player.vimeo.com/video/219560834


--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:1606faf89a
## Computing LATE, Part 1: Dividing the Population
*** =video_link
//player.vimeo.com/video/219561008


--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:d64d8a91b4
## Computing LATE, Part 2: Finding the Compliers
*** =video_link
//player.vimeo.com/video/219561095


--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:a25130be8d
## Computing LATE, Part 3: Getting a Result
*** =video_link
//player.vimeo.com/video/219561285


--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:edfd010726
## The Pros & Cons of LATE
*** =video_link
//player.vimeo.com/video/219561575



--- type:MultipleChoiceExercise lang:r xp:50 skills:1 key:ccb5f3da17
## Interpreting Different Results when Working with Noncompliance
Suppose I try out all four methods of dealing with noncompliance: bounds analysis, assuming random compliance, intention-to-treat analysis, and instrumental variables. That gives me four results. What should I expect to see?

*** =instructions
- All the results will be the same, regardless of the method
- None of the results will be the same
- Some of the results will be the same
- It doesn’t matter because only the result from instrumental variables analysis is credible
- None of the above
*** =sct
```{r}
msg1 = "Not quite. Try again"
msg2 = "Not quite. Try again"
msg3 = 'Not quite. Try again'
msg4 = 'Not quite. Try again'
msg5 = 'It depends! First, the bounds analysis did not require any assumptions, so the true ATE will be within the bounds we derived there. And remember that bounds analysis always gives, well, a bound! And as long as there is some noncompliance, that bound will always be positive. So it can’t possible give the same result as using IV, assuming random compliance, or doing intention-to-treat analysis. That’s because all three of those methods deliver a single point. Moreover, each of those methods will typically deliver different answers, except in special cases. Which one is more credible depends on what you think about the assumptions used to compute those numbers.'
test_mc(correct = 5, feedback_msgs = c(msg1,msg2,msg3,msg4,msg5))
```

--- type:VideoExercise lang:r aspect_ratio:62.5 xp:50 skills:1 key:162436a553
## ATEs, CATEs, and LATEs: What's the Difference?
*** =video_link
//player.vimeo.com/video/219561649


--- type:MultipleChoiceExercise lang:r xp:50 skills:1 key:0311238e09
## An Alternate Way to LATE? 
In this video, we saw many different ways to divide up the population of units. So, when I get my dataset, all I need to do is divide my units up into groups like in this module, and then I can compute the corresponding treatment effects by just taking the average outcome within each group.

*** =instructions
- True
- False
- Maybe

*** =sct
```{r}
msg1 = "Not quite. Try again"
msg2 = "Definitely false! First, we know from very early on in these videos that learning causality is rarely as easy as just computing a single average. At the least we need to compute the *difference* in two averages, like in a randomized experiment. Beyond that, however, we have discussed in other videos that we do not actually know who is or is not a complier in our dataset, for example. So—in our data—we cannot actually split people up as seen in this module. The split we discussed here is done “as if” we knew things about people which we cannot possibly know with an actual dataset."
msg3 = 'Not quite. Try again'
msg4 = 'Not quite. Try again'
test_mc(correct = 2, feedback_msgs = c(msg1,msg2,msg3,msg4))
```
